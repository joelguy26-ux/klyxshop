<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopify Connection Test</title>
</head>
<body>
    <h1>Shopify Connection Test</h1>
    <div id="status">Testing...</div>
    
    <script>
        // Test Shopify connection
        const storeName = 'cbpgj6-gb';
        const apiToken = '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';
        
        console.log('Testing Shopify connection...');
        console.log('Store:', storeName);
        console.log('Token:', apiToken.substring(0, 10) + '...');
        
        // Test the API call directly
        fetch(`https://${storeName}.myshopify.com/admin/api/2023-10/products.json`, {
            headers: {
                'X-Shopify-Access-Token': apiToken,
                'Content-Type': 'application/json'
            }
        })
        .then(response => {
            console.log('Response status:', response.status);
            if (response.ok) {
                return response.json();
            } else {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
        })
        .then(data => {
            console.log('✅ Success! Products loaded:', data.products.length);
            document.getElementById('status').innerHTML = `✅ Success! Found ${data.products.length} products`;
        })
        .catch(error => {
            console.error('❌ Error:', error);
            document.getElementById('status').innerHTML = `❌ Error: ${error.message}`;
        });
    </script>
</body>
</html>
